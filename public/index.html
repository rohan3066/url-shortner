<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URL Shortener</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon"
        href="data:image/jpeg;base64,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">

</head>

<body>
    <div class="container"> <!-- fixed typo from 'constainer' -->
        <h1>URL Shortener</h1>

        <form id="shorten-form">
            <div>
                <label for="url">Enter URL:</label>
                <input type="url" name="url" id="url" required>
            </div>
            <div>
                <label for="shortCode">Enter Shortcode:</label>
                <input type="text" name="shortCode" id="shortCode" required>
            </div>
            <button type="submit">Shorten</button>
        </form>

        <br><br>

        <h2>Shortened URLs</h2>
        <ul id="shortened-urls"></ul>
    </div>

    <script>
        const fetchShortenedUrls = async () => {
            try {
                const res = await fetch("/links");
                if (!res.ok) throw new Error("Failed to fetch links");

                const links = await res.json();
                const list = document.getElementById("shortened-urls");
                list.innerHTML = "";

                const entries = Object.entries(links);
                if (entries.length === 0) {
                    const li = document.createElement("li");
                    li.textContent = "No shortened URLs found.";
                    list.appendChild(li);
                }

                // Reverse the entries so newest appears first
                for (const [shortcode, url] of entries.reverse()) {
                    const li = document.createElement("li");
                    li.innerHTML = `
        <a href="${url}" target="_blank">${window.location.origin}/${shortcode}</a>
        &nbsp;-&nbsp;
        <span>${url}</span>
        <button data-code="${shortcode}" class="delete-btn">Delete</button>
    `;
                    list.prepend(li);
                }

            } catch (error) {
                console.error("Error fetching shortened URLs:", error);
            }
        };
        document.addEventListener("click", async (e) => {
            if (e.target.classList.contains("delete-btn")) {
                const shortcode = e.target.getAttribute("data-code");
                if (!shortcode) return;

                if (!confirm(`Are you sure you want to delete "${shortcode}"?`)) return;

                try {
                    const res = await fetch(`/delete/${shortcode}`, { method: "DELETE" });
                    if (res.ok) {
                        alert("Deleted successfully");
                        fetchShortenedUrls(); // Refresh list
                    } else {
                        alert("Failed to delete");
                    }
                } catch (error) {
                    console.error("Delete error:", error);
                    alert("Something went wrong");
                }
            }
        });


        document.getElementById("shorten-form").addEventListener("submit", async (event) => {
            event.preventDefault();

            const formData = new FormData(event.target);
            const url = formData.get("url").trim();
            const shortcode = formData.get("shortCode").trim();

            if (!url || !shortcode) {
                alert("Please enter both URL and shortcode.");
                return;
            }

            try {
                const res = await fetch("/shorten", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ url, shortcode }),
                });

                if (res.ok) {
                    alert("URL shortened successfully!");
                    event.target.reset();
                    fetchShortenedUrls(); // Refresh the list
                } else {
                    const errorMsg = await res.text();
                    alert("Error: " + errorMsg);
                }
            } catch (error) {
                console.error("Submission error:", error);
                alert("Something went wrong while submitting.");
            }
        });

        // Fetch and render URLs when page loads
        fetchShortenedUrls();
    </script>
</body>

</html>